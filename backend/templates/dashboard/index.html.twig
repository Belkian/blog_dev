{% extends 'base.html.twig' %}

{% block title %}Articles{% endblock %}

{% block body %}
<header class="flex items-center justify-between mb-4 p-4">
{% for label, messages in app.flashes %}
    <div class="alert alert-{{ label }} mt-4 px-4 py-2 rounded-md text-white bg-{{ label == 'success' ? 'green' : 'red' }}-500">
        {% for message in messages %}
            <p>{{ message }}</p>
        {% endfor %}
    </div>
{% endfor %}

    <div class="flex-1 flex justify-center">
    <img src="{{ asset('images/logo1.png') }}" alt="Logo" class="h-40 w-48">
</div>
<div class="flex justify-end space-x-4">
    <a href="{{ path('app_user_index') }}" class="mr-2 px-4 py-2 bg-blue-500 text-white font-semibold rounded-lg shadow-md hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-75 transition ease-in-out duration-300">
        Tous les utilisateurs
    </a>
    <a href="{{ path('app_logout') }}" class="px-4 py-2 bg-red-500 text-white font-semibold rounded-lg shadow-md hover:bg-red-600 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-opacity-75 transition ease-in-out duration-300">
        Se déconnecter
    </a>
</div>

</header>
<div class="container mx-auto p-4">
    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-2 gap-8 justify-center mx-44">
        {% for article in articles %}
            <div class="bg-white shadow-lg rounded-lg overflow-hidden border border-gray-200 mx-14">
                <a href="{{ path('app_article_show', {'id': article.id}) }}">
                    <img class="w-32 h-48 object-cover" src="{{ article.image }}" alt="{{ article.title }}" />
                </a>
                <div class="p-4">
                    <a href="{{ path('app_article_show', {'id': article.id}) }}" class="flex items-center">
                        <h5 class="mb-2 text-xl font-bold text-gray-900">{{ article.title }}</h5>
                        {% if article.status %}
                            <svg xmlns="http://www.w3.org/2000/svg" class="ml-2 h-6 w-6 text-green-500" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="5">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7" />
                            </svg>
                        {% else %}
                            <svg xmlns="http://www.w3.org/2000/svg" class="ml-2 h-6 w-6 text-red-500" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="5">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
                            </svg>
                        {% endif %}
                    </a>
                    <p class="mb-4 text-gray-700 text-sm">{{ article.text|slice(0, 100) }}...</p>
                    <p class="text-gray-600 text-xs mb-4">Dernière mise à jour : {{ article.timeAgo }}</p>
                    <div class="flex justify-between items-center mt-4">
                        <a href="{{ path('app_comment_index', {'articleId': article.id}) }}" class="inline-flex items-center text-sm font-medium text-black">
                            <svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="20" height="20" viewBox="0 0 50 50">
                                <path d="M 25 4.0625 C 12.414063 4.0625 2.0625 12.925781 2.0625 24 C 2.0625 30.425781 5.625 36.09375 11 39.71875 C 10.992188 39.933594 11 40.265625 10.71875 41.3125 C 10.371094 42.605469 9.683594 44.4375 8.25 46.46875 L 7.21875 47.90625 L 9 47.9375 C 15.175781 47.964844 18.753906 43.90625 19.3125 43.25 C 21.136719 43.65625 23.035156 43.9375 25 43.9375 C 37.582031 43.9375 47.9375 35.074219 47.9375 24 C 47.9375 12.925781 37.582031 4.0625 25 4.0625 Z M 25 5.9375 C 36.714844 5.9375 46.0625 14.089844 46.0625 24 C 46.0625 33.910156 36.714844 42.0625 25 42.0625 C 22.996094 42.0625 21.050781 41.820313 19.21875 41.375 L 18.65625 41.25 L 18.28125 41.71875 C 18.28125 41.71875 15.390625 44.976563 10.78125 45.75 C 11.613281 44.257813 12.246094 42.871094 12.53125 41.8125 C 12.929688 40.332031 12.9375 39.3125 12.9375 39.3125 L 12.9375 38.8125 L 12.5 38.53125 C 7.273438 35.21875 3.9375 29.941406 3.9375 24 C 3.9375 14.089844 13.28125 5.9375 25 5.9375 Z"></path>
                            </svg>
                            &nbsp;Commentaires
                        </a>
                        <!-- Bouton Details -->
                        <a href="{{ path('app_article_show', {'id': article.id}) }}" class="inline-flex items-center px-4 py-2 text-sm font-medium text-white bg-black rounded-md hover:bg-gray-800 focus:ring-4 focus:outline-none focus:ring-gray-300">
                            Détails
                        </a>
                    </div>
                </div>
            </div>
        {% endfor %}
    </div>
</div>


{% endblock %}
